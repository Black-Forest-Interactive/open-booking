<mat-card
  appearance="outlined"
  class="!p-3 cursor-pointer hover:shadow-md transition-shadow">
  <div class="flex items-start gap-3">

    <!-- Content -->
    <div class="flex-1 min-w-0">
      <div class="flex items-start justify-between gap-2">
        <div class="flex-1">
          <div class="font-medium">{{ data().offer.start | date:'fullDate' }}</div>
          <div class="text-sm opacity-70 mt-1">
            {{ data().offer.start | date:'shortTime' }} - {{ data().offer.finish | date:'shortTime' }}
          </div>
        </div>
      </div>

      <!-- Availability Info -->
      <div class="flex flex-col gap-1 mt-2 text-sm">
        <div class="flex items-center gap-1 text-green-700">
          <mat-icon inline>event_available</mat-icon>
          <span>{{ availableSpace() }} {{ 'CART.SpacesAvailable' | translate }}</span>
        </div>

        @if (unconfirmedSpace()) {
          <div class="flex items-center gap-1 opacity-70">
            <mat-icon inline>schedule</mat-icon>
            <span>{{ unconfirmedSpace() }} {{ 'CART.Pending' | translate }}</span>
          </div>
        }

        @if (confirmedSpace() > 0) {
          <div class="flex items-center gap-1 opacity-70">
            <mat-icon inline>check_circle</mat-icon>
            <span>{{ confirmedSpace() }} {{ 'CART.Confirmed' | translate }}</span>
          </div>
        }
      </div>

      <!-- Warning if low availability -->
      @if (availableSpace() <= 3 && availableSpace() > 0) {
        <div class="text-xs px-2 py-1 rounded bg-orange-100 text-orange-700 mt-2 inline-block">
          {{ 'CART.LimitedSpaces' | translate }}
        </div>
      } @else if (availableSpace() === 0) {
        <div class="text-xs px-2 py-1 rounded bg-red-100 text-red-700 mt-2 inline-block">
          {{ 'CART.NoLongerAvailable' | translate }}
        </div>
      }
    </div>
  </div>
</mat-card>

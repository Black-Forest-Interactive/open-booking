<app-loading-bar [reloading]="reloading()"/>
<div class="container mx-auto p-6 max-w-4xl">
  @if (data()) {
    <mat-card class="shadow-lg p-4">
      <div class="border-b border-gray-200 pb-4 mb-4">
        <h2 class="text-2xl font-bold text-gray-900">
          {{ title() }}
        </h2>
        <div class="flex gap-3 mt-2">
          <div class="flex items-center gap-1 bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium">
            <mat-icon class="text-base">language</mat-icon>
            <span>{{ lang().toUpperCase() }}</span>
          </div>
          <div class="flex items-center gap-1 bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-medium">
            <mat-icon class="text-base">category</mat-icon>
            <span>{{ 'RESPONSE.Field.Type.' + type() | translate }}</span>
          </div>
        </div>
      </div>

      <div class="text-gray-700 leading-relaxed mb-6">
        <div class="mb-2 text-sm font-semibold text-gray-600">
          {{ 'RESPONSE.Field.Content.Title' | translate }}
        </div>
        <p class="whitespace-pre-wrap" [innerHTML]="content()"></p>
      </div>

      <div class="flex justify-between items-center pt-4 border-t border-gray-200">
        <button matButton="filled" color="primary" class="shadow-sm" (click)="back()">
          <mat-icon>arrow_back_ios</mat-icon>
          {{ 'ACTION.Back' | translate }}
        </button>
        <div class="flex gap-2">
          <button matButton="filled" color="primary" class="shadow-sm" routerLink="./edit/{{responseId()}}">
            <mat-icon>edit</mat-icon>
            {{ 'ACTION.Edit' | translate }}
          </button>
          <button matButton="outlined" color="warn" class="shadow-sm" (click)="delete()">
            <mat-icon>delete</mat-icon>
            {{ 'ACTION.Delete' | translate }}
          </button>
        </div>
      </div>
    </mat-card>
  } @else {
    <mat-card class="shadow-lg p-8 text-center">
      <mat-icon class="text-gray-400 text-6xl mb-4">info</mat-icon>
      <p class="text-gray-600 text-lg">{{ 'RESPONSE.Message.NoData' | translate }}</p>
    </mat-card>
  }
</div>

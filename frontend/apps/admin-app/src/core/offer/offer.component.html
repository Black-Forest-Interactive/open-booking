<app-main-content [title]="'MENU.Offer' | translate">
  <div class="flex gap-2 flex-auto" actions>
    <button matButton="outlined" (click)="handleCreateSingle()">
      <mat-icon>add</mat-icon>
      {{ 'OFFER.Action.CreateSingle' | translate }}
    </button>

    <button matButton="outlined" (click)="handleCreateSeries()">
      <mat-icon>playlist_add</mat-icon>
      {{ 'OFFER.Action.CreateSeries' | translate }}
    </button>

    <button matButton="outlined" (click)="handleCreateRange()">
      <mat-icon>format_list_bulleted_add</mat-icon>
      {{ 'OFFER.Action.CreateRange' | translate }}
    </button>

    <button matIconButton (click)="reload()">
      @if (reloading()) {
        <mat-spinner [diameter]="18"></mat-spinner>
      } @else {
        <mat-icon class="!text-gray-800">refresh</mat-icon>
      }
    </button>
  </div>

  <!-- Loading -->
  <app-loading-bar [reloading]="reloading()"></app-loading-bar>

  <!-- âœ… SCROLL AREA -->
  <div class="flex-1 overflow-auto min-h-0 px-4">
    <app-offer-content
      [entries]="entries()"
      [selectedDay]="selectedDay()"
      [reloading]="reloading()"
      (edit)="handleEdit($event)"
      (delete)="handleDelete($event)"
      (toggleActive)="handleToggleActive($event)"
      (selectionWeekChanged)="handleSelectionWeekChanged($event)"
      (selectionDayChanged)="handleSelectionDayChanged($event)"
    >
    </app-offer-content>

    @if (entries().length === 0 && !reloading()) {
      <div class="py-20 text-center">
        <div class="inline-flex items-center justify-center w-24 h-24 rounded-full mb-6">
          <mat-icon class="!w-16 !h-16 !text-6xl opacity-50" color="primary">inbox</mat-icon>
        </div>
        <h3 class="text-xl font-semibold mb-2">
          {{ 'OFFER.Empty.Title' | translate }}
        </h3>
        <p class="opacity-70 mb-8 max-w-md mx-auto">
          {{ 'OFFER.Empty.Description' | translate }}
        </p>
        <button mat-fab extended color="primary" routerLink="./create">
          <mat-icon>add</mat-icon>
          {{ 'OFFER.Action.CreateFirst' | translate }}
        </button>
      </div>
    }
  </div>

</app-main-content>
